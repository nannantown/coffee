# Flutter + Supabase アカウントテンプレート

## プロジェクトのゴールと目的

### ゴール
今後のアプリ開発で再利用可能な、完全な認証機能を備えたFlutterテンプレートを作成する。新しいプロジェクトを始める際に、このテンプレートをクローンするだけで、認証機能がすぐに使える状態にする。

### 目的
- **開発時間の短縮**: 新規アプリ開発時に認証機能を毎回実装する手間を省く
- **ベストプラクティスの確立**: Supabase + Riverpodを使った標準的な実装パターンを確立
- **簡単なセットアップ**: 環境変数を設定するだけで動作するよう、明確な手順を提供
- **拡張性**: 新しい機能を追加しやすい構造を維持

### 提供する機能
- メールアドレス認証（サインアップ、ログイン、パスワードリセット）
- 自動セッション管理
- Material 3ベースの美しいUI

## 実装内容

### 1. プロジェクトのセットアップ
- Flutterプロジェクトの初期化
- 必要なパッケージの追加：
  - `supabase_flutter`: Supabase連携
  - `flutter_riverpod`: 状態管理
  - `go_router`: ルーティング
  - `flutter_dotenv`: 環境変数管理

### 2. プロジェクト構造の構築
```
lib/
├── main.dart
├── config/
│   ├── supabase_config.dart        # Supabase初期化
│   └── router.dart                 # ルーティング設定
├── features/
│   └── auth/
│       ├── providers/
│       │   └── auth_provider.dart   # 認証状態管理
│       ├── services/
│       │   └── auth_service.dart    # 認証ロジック
│       └── screens/
│           ├── login_screen.dart
│           ├── signup_screen.dart
│           ├── forgot_password_screen.dart
│           └── home_screen.dart
└── core/
    └── constants/
        └── env.dart                 # 環境変数アクセス
```

### 3. 認証機能の実装
- **メール認証**:
  - サインアップ（メール確認付き）
  - ログイン
  - パスワードリセット（メール送信）
- **セッション管理**: 自動ログイン状態の維持

### 4. UI実装（Material 3デザイン）
- ログイン画面（メール/パスワード）
- サインアップ画面
- パスワードリセット画面
- ホーム画面（ログイン後のサンプル）
- レスポンシブデザイン

### 5. 環境変数設定ファイルの作成
- `.env.example`: サンプル環境変数ファイル
- `lib/config/env_config.dart`: 環境変数を読み込むヘルパー

### 6. セットアップドキュメントの作成
詳細なREADME.mdを作成：
- **Supabaseの設定手順**:
  1. プロジェクト作成
  2. API URLとAnon Keyの取得
  3. Email Authの有効化
  4. メールテンプレートの設定（任意）
- **プロジェクトのセットアップ手順**:
  1. リポジトリのクローン
  2. `.env`ファイルの作成と設定
  3. `flutter pub get`
  4. 実行

### 7. サンプルコードとコメント
- 各ファイルに詳細なコメントを追加
- ユーザーがカスタマイズしやすいように設計

## 実装タスク

1. Flutterプロジェクトの初期化と必要なパッケージの追加
2. 環境変数設定ファイルとヘルパークラスの作成
3. Supabase初期化コードとルーティング設定の実装
4. 認証サービス（メール認証のみ）とRiverpodプロバイダーの実装
5. 認証画面（ログイン、サインアップ、パスワードリセット、ホーム）のUI実装
6. 詳細なREADMEとセットアップガイドの作成

